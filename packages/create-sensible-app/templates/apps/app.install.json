{
  "config": {
    "tasks": [
      {
        "label": "App packager",
        "isBackground": true,
        "options": { "cwd": "${workspaceFolder}/apps/app" },
        "command": "yarn start",
        "presentation": { "group": "run" },
        "runOptions": { "runOn": "folderOpen" }
      }
    ]
  },
  "instructions": "",
  "commands": [
    {
      "command": "npx expo-cli init -t expo-template-blank-typescript app",
      "description": "Creating expo-app"
    },
    {
      "command": "cd app && rm -rf .git",
      "description": "Removing git folder"
    },
    {
      "command": "cd app && yarn add react@17.0.2 react-dom@17.0.2",
      "description": "Install right react version to prevent invalid hook call"
    },
    {
      "command": "cd app && mv package.json package-old.json && jq '.main |= \"index.ts\"' package-old.json > package.json && rm package-old.json",
      "description": "changing main entry of package.json"
    },

    {
      "command": "cd app && npx expo-cli install core@* ui@* sensible-core@* react-query react-with-native react-with-native-form react-with-native-store @react-native-async-storage/async-storage react-with-native-text-input",
      "description": "Installing app dependencies"
    },

    {
      "command": "cd app && npx expo-cli install @react-navigation/native @react-navigation/native-stack react-native-screens react-native-safe-area-context",
      "description": "Install react-navigation"
    },

    {
      "command": "cd app && yarn add -D @expo/webpack-config babel-plugin-module-resolver",
      "description": "Installing app devDependencies"
    },

    {
      "command": "cd app && yarn add tailwind-rn && yarn add -D tailwindcss postcss concurrently && npx tailwindcss init && echo '@tailwind utilities;' > input.css",
      "description": "Install tailwind"
    },

    {
      "command": "yarn add -D npm-run-all",
      "description": "install script to run all expo stuff at once"
    },
    {
      "command": "cd app && npx add-tailwind-rn-scripts",
      "description": "What a pain!"
    }
  ]
}
